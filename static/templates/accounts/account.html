<div class="account" ng-show="vm.isAuthenticated" ng-cloak>
    <div class="jumbotron account__header">
        <h1 class="account__username" ng-cloak>{{ vm.date }}</h1>

        <h3>Week {{ vm.weekNum }}</h3>
    </div>

    <posts posts="vm.posts"></posts>
</div>

<nav class="cbp-spmenu cbp-spmenu-vertical cbp-spmenu-left" id="cbp-spmenu-s1">
    <h3>Social Bar</h3>

    <div class="form-group">

        <input type="text" class="form-control" id="search__username" ng-model="vm.search__username" required>
        <label id="form" class="float-label" for="search__username">Search for User</label>

    </div>
    <ul>
        <li class="mdi-social-person" ng-repeat="user in vm.users">  {{ user.username }}</li>
    </ul>

</nav>

<div id="pudview" class="pudview" ng-show="vm.isAuthenticated">

    <puds puds="vm.puds"></puds>

    <button class="pudview-close" id="pudview-close"></button>
</div><!-- /pudview -->

<a class="btn btn-primary btn-fab btn-raised mdi-content-add btn-add-new-post"
   href="javascript:void(0)"
   ng-show="vm.isAuthenticated"
   ng-dialog="/static/templates/posts/new-post.html"
   ng-dialog-controller="NewPostController as vm"></a>

<a class="mdi-social-person-add btn btn-primary btn-fab btn-raised btn-add-new-friend"
   id="showLeftPush"
   ng-show="vm.isAuthenticated"
   ng-dialog-controller="NewPostController as vm"></a>

<button class="mdi-image-navigate-before btn btn-primary btn-fab btn-raised btn-before"
        ng-show="vm.isAuthenticated"
        ng-click="vm.before()"></button>

<button class="mdi-image-navigate-next btn btn-primary btn-fab btn-raised btn-next"
        ng-show="vm.isAuthenticated"
        ng-click="vm.next()"></button>

<button class="mdi-action-store btn btn-primary btn-fab btn-raised btn-home"
        type="submit"
        ng-show="vm.isAuthenticated"
        ng-click="vm.activate()"></button>

<button class="mdi-navigation-check btn btn-primary btn-fab btn-raised btn-pudview"
        id="btn-pudview"
        ng-show="vm.isAuthenticated"></button>

<a class="mdi-content-create btn btn-primary btn-fab btn-raised btn-create-pud"
   href="javascript:void(0)"
   ng-show="vm.isAuthenticated"
   ng-dialog="/static/templates/puds/new-pud.html"
   ng-dialog-controller="NewPudController as vm"></a>

<a class="mdi-action-today btn btn-primary btn-fab btn-raised btn-change-date"
   id="showLeftPush"
   href="javascript:void(0)"
   ng-show="vm.isAuthenticated"
   ng-dialog="/static/templates/posts/change-calendar.html"
   ng-dialog-controller="DateController as vm"></a>

<script>
    (function () {
        var pudScreen = document.getElementById('pudview');
        var input = document.getElementById('btn-pudview');
        var ctrlClose = document.getElementById('pudview-close');
        var isOpen = false;
        var isAnimating = false;
        // show/hide pud area
        toggleSearch = function (evt) {
            // return if open and the input gets clicked
            if (evt.type.toLowerCase() === 'click' && isOpen) return false;

            var offsets = pudview.getBoundingClientRect();
            if (isOpen) {
                classie.remove(pudScreen, 'open');
                input.blur();
            }
            else {
                classie.add(pudScreen, 'open');
            }
            isOpen = !isOpen;
        };
        input.addEventListener('click', toggleSearch);
        ctrlClose.addEventListener('focus', toggleSearch);
        // esc key closes search overlay
        // keyboard navigation events
        document.addEventListener('keydown', function (ev) {
            var keyCode = ev.keyCode || ev.which;
            if (keyCode === 27 && isOpen) {
                toggleSearch(ev);
            }
        });
    })();
</script>

<script>
    var menuLeft = document.getElementById('cbp-spmenu-s1'),
            showLeftPush = document.getElementById('showLeftPush'),
            body = document.body;


    showLeftPush.onclick = function () {
        classie.toggle(this, 'active');
        classie.toggle(body, 'cbp-spmenu-push-toright');
        classie.toggle(menuLeft, 'cbp-spmenu-open');
    };
</script>



